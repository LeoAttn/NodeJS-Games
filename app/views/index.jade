extends layout
//var room = require('../controllers/Rooms');

block content
    h1= title
    p Welcome to #{title}

    if message
        div.error-bg
            p #{message}

    h2
        a(href="play") Commencer une partie

    form(class = "create-room" action="/create" method = "post")
        label(for= "username") Nom d'utilisateur
        input(type ="text" name = "username" required="required")
        label(for="roomName") Nom de la partie
        input(type = "text" name = "roomName")
        label(for = "private") Privée
        input(type = "checkbox" name = "private", value=false)
        button(name = "submit")= "Créer"

    div.list-room
        h3 Rejoignez une partie !
        table
            tr
                td Nom de la partie
                td Créateur
                td IsPlaying
                td IsPrivate
            - for (var k in room)
                tr
                    td=room[k].name
                    td=room[k].creator
                    td=room[k].playing
                    td=room[k].private
                    td
                        form(action="/join" method="post")
                            button(name="id" value=room[k]._id) Rejoindre
                    td: button(onclick='prompt("Lien :", "localhost/join?id='+room[k]._id+'")') Lien
